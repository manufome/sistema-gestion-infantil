{% extends 'layout.html' %}
{% block title %}{{ title }}{% endblock %}
{% block content %}
{% load custom_filters %}
<div class="container mx-auto p-4 md:p-8">
    <h1 class="text-3xl font-bold mb-6">{{ title }}</h1>
    <div class="bg-white shadow-md rounded-lg mb-6">
        <div class="p-6 border-b">
            <div class="sm:flex sm:items-center justify-between">
                <div class="sm:flex-auto">
                    <h6>{{ title }} registrados en el sistema.</h6>
                </div>
                <div class="mt-4 sm:mt-0 sm:ml-16 sm:flex-none">
                    <a href="{% url urls.crear %}"
                        class="inline-flex items-center justify-center rounded-md border border-transparent bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 sm:w-auto">Agregar</a>
                </div>
            </div>
            <div class="relative overflow-x-auto shadow sm:rounded-lg mt-8">
                <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                        <tr>
                            {% for field in fields %}
                            <th scope="col" class="px-6 py-3">{{ field }}</th>
                            {% endfor %}
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for object in objects %}
                        <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
                            {% for field in fields %}
                            <td class="px-6 py-4">{{ object|get_attr:field }}</td>
                            {% endfor %}
                            <td class="py-4 whitespace-nowrap text-right text-sm font-medium flex space-x-2">
                                {% if object.url_descargar %}
                                <a href="{{ object.url_descargar }}" target="_blank"
                                    class="text-primary hover:text-primary/80"><i class="fa-solid fa-download"></i></a>
                                {% endif %}
                                <a href="{% url urls.editar object.id %}"
                                    class="text-primary hover:text-primary/80">Editar</a>
                                <a href="{% url urls.eliminar object.id %}"
                                    class="ml-2 text-red-600 hover:text-red-900">Eliminar</a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>
{% endblock %}